# Backend Environment Variables (copy to backend/.env)
# Production defaults are recommended; never commit real secrets.

# App
APP_NAME=Stralix API
APP_ENV=production
APP_HOST=0.0.0.0
APP_PORT=8000

# CORS (comma-separated)
CORS_ORIGINS=https://stralix.cloud,http://localhost:3000

# Security keys
SECRET_KEY=change_me_in_production

# Database (external PostgreSQL)
# SQLAlchemy Async URL format: postgresql+asyncpg://USER:PASS@HOST:PORT/DBNAME
DATABASE_URL=postgresql+asyncpg://stralix:password@db.example.com:5432/stralix

# SMTP (MailCow)
SMTP_HOST=mail.stralix.cloud
SMTP_PORT=587
SMTP_USER=no-reply@stralix.cloud
SMTP_PASSWORD=change_me
SMTP_FROM_NAME=Stralix
SMTP_TLS=true

# 2FA / TOTP
TOTP_ISSUER=Stralix

# Sessions & Cookies
# Cookie names
SESSION_COOKIE_NAME=sx_s
REFRESH_COOKIE_NAME=sx_r
# Cookie domain for production (include leading dot for subdomains)
COOKIE_DOMAIN=.stralix.cloud
# TTLs
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Session binding (optional hardening)
# Bind sessions to IP subnet and user agent hash to reduce token theft impact
BIND_SESSION_TO_IP=true
BIND_SESSION_TO_UA=true

# Rate limiting (if using middleware; otherwise configure in Nginx)
RATE_LIMIT_LOGIN_PER_MIN=10
RATE_LIMIT_VERIFY_PER_MIN=10
RATE_LIMIT_RESET_PER_MIN=5

# Logging
LOG_LEVEL=INFO
REQUEST_ID_HEADER=X-Request-ID

# Feature flags
ENABLE_EMAIL_VERIFICATION=true
ENABLE_2FA=true

# Admin defaults (optional bootstrap; remove in production after first use)
#ADMIN_BOOTSTRAP_EMAIL=admin@stralix.cloud
#ADMIN_BOOTSTRAP_PASSWORD=change_me_strong
